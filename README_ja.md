# このアプリケーションの作り方

- julia v1.4 を用いてこのアプリケーションを作った方法をメモ
  - Pkg REPL を用いて素朴に作ることにします．
  - `PkgTemplates.jl` という Julia パッケージを利用することも可能です.ドキュメントやテストコード，継続的インテグレーション(CI) といったソフトウェアとしての完成度を高められるツールも自動的に用意してくれます．

- ここでは最低限の手順で Julia のプロジェクトを作成し，ツールとしてのアプリケーションまで作っていこうと思います．Juliaのプロジェクト(Project) は ソースコードを集めた `src`, 使い方，マニュアル，API仕様書をまとめた `doc`, ソフトウェアとしての品質を維持・管理するテストコードをまとめた `test`, 依存関係をまとめた `Project.toml`, `Manifest.tom` などから構成されるファイルの集まりです．
- `Project.toml` に依存するパッケージを記述しておくと開発者の間でプロジェクトに必要なパッケージを導入することができます．
- プロジェクト，パッケージ，アプリケーションと用語が出てきました．プロジェクトはパッケージ，アプリケーションを包括する概念です．パッケージ (Package) は再利用性が高い機能を集めたプロジェクトのことでソフトウェアとしてのライブラリです．アプリケーション (Application) はエンドユーザー向けに使われる Julia のプロジェクトです. これらの概念は厳密に区別されているわけではないので，インターネット上の情報ではプロジェクトよりもパッケージの話題を調べると情報が多く出てきやすいでしょう．

# プロジェクトの作り方

- ターミナルで次のコマンドを実行します.

```console
$ julia -e 'using Pkg; Pkg.generate("CameraApp")'
```

- `CameraApp` 以下 に下記のようなファイル構造が得られます．

```
.
├── Project.toml
└── src
    └── CameraApp.jl
```

- これが Julia の必要最小限のプロジェクト構成です．
- GitHub でリポジトリを作りを管理したい場合は `CameraApp` 以下のファイルをそっくりそのままリポジトリの直下に移動します．

# プロジェクトを開発する

- 以下, リポジトリが `CameraApp.jl` と仮定して話を進めます．末尾に `.jl` とつけておくとインターネットであなたのパッケージを公開するときに検索しやすくなります．
- Julia のプロジェクトを開発するにはその環境のなかで作業することになります．
- そのためには julia の起動時に `--project=<Project.tomlがあるディレクトリのパス>` を付け加えておきます．

```
$ cd CreateApp.jl
$ julia --project=.
$ julia> ]
$ (CameraApp) pkg>
```

- Pkg REPL に切り替わると `(@v1.4) pkg>`　と見てていたものが `(CameraApp) pkg>` となっていることがわかります. もしも反映されいない場合であれば

```
(@v1.4) pkg> activate <Project.tomlがあるディレクトリのパス>
Activating environment at `~/work/CameraApp.jl/Project.toml`
```

のようにしておきます.
